<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Chat - {{ friend }} | Chat Site</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <script>
        const me = localStorage.getItem('chat-user');
        const peer = "{{ friend }}";
        if (!me) location.href = '/login';
    </script>
</head>
<body>
    <div class="top-btns">
        <a href="/" class="glass back-btn" title="返回好友列表">←</a>
        <h1 class="blue-text">Chat with <span id="peername">{{ friend }}</span></h1>
        <button id="logout-btn" class="glass" title="退出登录">⎗</button>
        <label class="glass-switch" title="切换主题">
            <input type="checkbox" id="theme-cb">
            <span class="slider"></span>
        </label>
    </div>

    <main class="chat-only">
        <div id="chat-box" class="glass"></div>
        <div id="input-area">
            <input type="text" id="message-input" placeholder="Type a message..." class="glass" />
            <button onclick="sendMessage()" class="glass">Send</button>
        </div>
    </main>

    <script src="/static/js/chat.js"></script>
</body>
</html>
